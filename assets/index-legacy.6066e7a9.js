!function(){var e=["playerIds"];function n(e){return function(e){if(Array.isArray(e))return f(e)}(e)||t(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function r(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function o(e,n,t,r,o,i,a){try{var c=e[i](a),l=c.value}catch(u){return void t(u)}c.done?n(l):Promise.resolve(l).then(r,o)}function i(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var a=e.apply(n,t);function c(e){o(a,r,i,c,l,"next",e)}function l(e){o(a,r,i,c,l,"throw",e)}c(void 0)}))}}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){l(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function u(e,n){return d(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var r,o,i=[],a=!0,c=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(l){c=!0,o=l}finally{try{a||null==t.return||t.return()}finally{if(c)throw o}}return i}(e,n)||h(e,n)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e){if(Array.isArray(e))return e}function h(e,n){if(e){if("string"==typeof e)return f(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?f(e,n):void 0}}function f(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var p=document.createElement("style");p.innerHTML="*{scrollbar-width:auto;scrollbar-color:#9c9c9c #3f3f3f}*::-webkit-scrollbar{background-color:#3f3f3f;width:8px;height:8px}*::-webkit-scrollbar-thumb{background-color:#9c9c9c;border-radius:5px}*::-webkit-scrollbar-thumb:hover{background-color:#adadad}\n",document.head.appendChild(p),System.register(["./vendor-legacy.58db1253.js"],(function(o,a){"use strict";var l,f,p,m,x,g,v,y,b,S,w,C,I,k,P,M,T,O,W,j,N,A,F,E,L,R,z,B,D,V,J,H,_,Y,q,U,G,X,$,K,Q,Z,ee,ne,te,re,oe,ie,ae,ce,le,ue,se,de,he,fe,pe;return{setters:[function(e){l=e.r,f=e.j,p=e.u,m=e.z,x=e.a,g=e.b,v=e.n,y=e.c,b=e.F,S=e.d,w=e.T,C=e.e,I=e.S,k=e.f,P=e.g,M=e.C,T=e.h,O=e.I,W=e.i,j=e.k,N=e.D,A=e.l,F=e.m,E=e.o,L=e.B,R=e.p,z=e.q,B=e.s,D=e.t,V=e.v,J=e.w,H=e.x,_=e.P,Y=e.y,q=e.A,U=e.E,G=e.G,X=e.H,$=e.J,K=e.K,Q=e.L,Z=e.M,ee=e.N,ne=e.O,te=e.Q,re=e.R,oe=e.U,ie=e.V,ae=e.W,ce=e.X,le=e.Y,ue=e.Z,se=e._,de=e.$,he=e.a0,fe=e.a1,pe=e.a2}],execute:function(){var me=function(e){return{path:e}},xe=function(){var e=u(l.exports.useState(location.pathname),2),n=e[0],t=e[1];p("popstate",(function(){return t(location.pathname)}));var r=l.exports.useCallback((function(e){var n=e.path;t(n),function(e){window.history.pushState({},document.title,e)}(n)}),[]),o=l.exports.useCallback((function(e){var n=e.path;t(n),function(e){window.history.replaceState({},document.title,e)}(n)}),[]);return[l.exports.useMemo((function(){return me(n)}),[n]),r,r,o,o]},ge=function(e,n){return[l.exports.useMemo((function(){return me(n.currentLocation.path.slice(e.length))}),[n.currentLocation.path,e]),l.exports.useCallback((function(t){var r=t.path;return n.navigate({path:"".concat(e).concat(r)})}),[e]),n.navigateAbsolute,l.exports.useCallback((function(t){var r=t.path;return n.replace({path:"".concat(e).concat(r)})}),[e]),n.replaceAbsolute]},ve=l.exports.createContext(null),ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.rootPath,t=void 0===n?"":n,r=e.children,o=l.exports.useContext(ve),i=o?ge(t,o):xe(),a=u(i,5),c=a[0],s=a[1],d=a[2],h=a[3],p=a[4];return f(ve.Provider,{value:{rootPath:t,currentLocation:c,navigate:s,navigateAbsolute:d,replace:h,replaceAbsolute:p},children:r})},be=function(e,n){return"*"===e||(!!e.startsWith(":")||e===n)},Se=function(){var e=l.exports.useContext(ve);if(!e)throw new Error("no router context found");return e},we=function(e){var n,t,r=e.views,o=Se(),i=o.currentLocation,a=o.replace,l=i.path,s=r.find((function(e){return function(e,n){var t=e.split("/"),r=n.split("/");return!(t.length>r.length)&&m(t,r).every(x(be))}(e.path,l)}));return s?"redirect"in s?(g((function(){return a({path:s.redirect})})),null):f(ye,{rootPath:"/"===s.path?"":s.path,children:f(s.component,c({},(n=s.path,t=l,Object.fromEntries(m(n.split("/"),t.split("/")).filter((function(e){return u(e,1)[0].startsWith(":")})).map((function(e){var n=u(e,2),t=n[0],r=n[1];return[t.slice(1),r]}))))))}):null},Ce=function(e,n){return e()},Ie=o("c",(function(e){return e}))({appName:"È∫ªÈõÄË®àÂàÜÂô®",locales:{chinglish:"Chinglish",zhHk:"Âª£Êù±Ë©±"},bottomMenu:{chart:"Âúñ",table:"Ë°®",settings:"Ë®≠ÂÆö"},round:"Â±Ä",score:"ÂàÜÊï∏",addRound:"È£üÁ≥ä",next:"ÁπºÁ∫å",back:"ËøîÂõû",cancel:"ÂèñÊ∂à",done:"ÊêûÊéÇ",winner:"È£üÂÆ∂",losers:"Âá∫ÈäÉËÄÖ",farn:"Áï™",player:"Áé©ÂÆ∂",selfTouch:"Ëá™Êë∏",isSelfTouch:"Ëá™Êë∏Ôºü",isBao:"ÂåÖÔºü",addPlayer:"Êñ∞Â¢ûÁé©ÂÆ∂",chungJai:"ÈäÉÂà∂",chungJais:{half:"ÂçäÈäÉ",full:"ÂÖ®ÈäÉ"},chipValue:"Á±åÁ¢ºË®àÊ≥ï",chipValues:{c25chicken:"‰∫å‰∫îÈõû",c51:"‰∫î‰∏Ä",c12mosquitoes:"‰∏Ä‰∫åËöä"},halfSpicyFrom:"ÂπæÁï™ÈñãÂßãÂçäËæ£Ôºü",halfSpicyFroms:{never:"Âæû‰∏ç",customPlaceholder:"Ëá™Ë®Ç"},noData:"Êú™ÊúâÊï∏Êìö...",chartPlaceholderText:"È£ü‰∏ãÁ≥äÂÖàÊúâÂúñÁùá...",openTable:"ÈñãÊ™Ø",landingPage:{heading:"È∫ªÈõÄË®àÂàÜÂô®",subheading:"ÂîîÊ¥óÁî®ËÖ¶Êó¢Âô®"},openTablePage:{scoringSettings:{heading:"ÈªûÊâìÊ≥ïÔºü"},players:{heading:"Áé©ÂÆ∂"},firstWuStep:{heading:"ÊêûÊéÇÂìÇÔºÅ",subheading:"„©í‰∏ãÈù¢ÂÄãÊé£È£üÁ≥äÔºÅ"}},beforeUnloadMessage:"Áúü‰øÇË¶ÅËµ∞ÔºüËµ∞ÂíóÂ∞±ÂÜáÂìÇÂï≤Ë®òÈåÑÂ´ÅÂï¶ÔºÅ",addRoundModal:{currentPlayersSelectTitle:"ÈÇäÂÄãÁé©Á∑äÔºü"}}),ke={chinglish:function(){return Ce((function(){return a.import("./chinglish-legacy.039a25d0.js")}))},"zh-hk":function(){return{default:Ie}}},Pe=l.exports.createContext(null),Me=function(e){var n=e.children,t=u(l.exports.useState("zh-hk"),2),r=t[0],o=t[1],a=u(l.exports.useState(Ie),2),c=a[0],s=a[1];return l.exports.useEffect((function(){i(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=s,e.next=3,ke[r]();case 3:e.t1=e.sent.default,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))()}),[r]),f(Pe.Provider,{value:{t:c,locale:r,setLocale:o},children:n})},Te=function(){var e=l.exports.useContext(Pe);if(!e)throw new Error("no locale context found");return e},Oe=function(){return Te().t},We=function(e){return c({id:v()},e)},je=l.exports.createContext({players:[],setPlayers:function(){}}),Ne=function(e){var n=e.children,t=Oe(),r=u(l.exports.useState(Array.from({length:4},(function(e,n){return We({name:"".concat(t.player," ").concat(n+1)})}))),2),o=r[0],i=r[1];return f(je.Provider,{value:{players:o,setPlayers:i},children:n})},Ae=function(e){return c({id:v()},e)},Fe=function(e){var n=e.allPlayers,t=e.selectedPlayerIds,r=e.onSelectedPlayerIdsChange,o=l.exports.useMemo((function(){return new Set(t)}),[t]),i=Oe();return y(b,{fullWidth:!0,sx:{mt:1},children:[f(S,{focused:!1,children:i.addRoundModal.currentPlayersSelectTitle}),f(w,{color:"primary",value:t,onChange:function(e,n){return r(n)},fullWidth:!0,orientation:"vertical",children:n.map((function(e){var n=e.id,r=e.name;return f(C,{disabled:!o.has(n)&&t.length>=4,value:n,children:r},n)}))})]})},Ee=function(){var e=l.exports.useContext(Ve),n=e.players,t=e.selectedPlayerIds,r=e.setSelectedPlayerIds,o=e.setCanNext;return l.exports.useEffect((function(){return o(4===t.length)}),[t]),f(Fe,{allPlayers:n,selectedPlayerIds:t,onSelectedPlayerIdsChange:r})},Le=function(e){var n=e.players,t=e.loserIds,r=e.onLoserIdsChange,o=e.disabled,i=Oe();return y(I,{children:[f(S,{children:i.losers}),f(w,{color:"primary",value:t,onChange:function(e,n){return r([n])},exclusive:!0,fullWidth:!0,orientation:"vertical",disabled:o,children:n.map((function(e){var n=e.id,t=e.name;return f(C,{value:n,children:t},n)}))})]})},Re=function(){var e=Oe(),n=l.exports.useContext(Ve),t=n.selectedPlayers,r=n.winnerId,o=n.loserIds,i=n.setLoserIds,a=n.isSelfTouch,c=n.isBao,u=n.setIsBao,s=n.setCanNext,d=l.exports.useMemo((function(){return t.filter((function(e){return e.id!==r}))}),[t,r]);return l.exports.useEffect((function(){return u(a&&c)}),[a,c]),l.exports.useEffect((function(){return i(a&&!c?d.map((function(e){return e.id})):[])}),[a,c]),l.exports.useEffect((function(){return s(o.length>0)}),[o]),y(I,{gap:2,children:[f(Le,{loserIds:o,disabled:a&&!c,onLoserIdsChange:i,players:d}),a&&f(k,{sx:{ml:"auto"},children:f(P,{control:f(M,{checked:c,onChange:function(e,n){return u(n)}}),label:"".concat(e.isBao," üçû")})})]})},ze=function(e){var n=e.farn,t=e.onFarnChange,r=Oe();return f(I,{direction:"row",children:f(T,{InputProps:{startAdornment:f(O,{onClick:function(){return t(n-1)},children:f(W,{children:"remove"})}),endAdornment:f(O,{onClick:function(){return t(n+1)},children:f(W,{children:"add"})})},sx:{width:function(e){return e.spacing(18)}},inputProps:{inputMode:"numeric",pattern:"[0-9]*",style:{textAlign:"center"}},value:n,label:r.farn,onChange:function(e){var n=Number(e.target.value);Number.isNaN(n)||t(n)}})})},Be=function(e){var n=e.players,t=e.winnerId,r=e.onWinnerIdChange,o=Oe();return y(I,{children:[f(S,{children:o.winner}),f(w,{orientation:"vertical",color:"primary",value:t,exclusive:!0,onChange:function(e,t){n.map((function(e){return e.id})).includes(t)&&r(t)},fullWidth:!0,children:n.map((function(e){var n=e.id,t=e.name;return f(C,{value:n,children:t},n)}))})]})},De=function(){var e=Oe(),n=l.exports.useContext(Ve),t=n.selectedPlayers,r=n.winnerId,o=n.setWinnerId,i=n.farn,a=n.setFarn,c=n.isSelfTouch,u=n.setIsSelfTouch,s=n.setCanNext;return l.exports.useEffect((function(){return s(!!r)}),[r]),y(I,{gap:2,children:[f(Be,{players:t,winnerId:r,onWinnerIdChange:o}),y(I,{direction:"row-reverse",justifyContent:"flex-start",flexWrap:"wrap",gap:2,children:[f(ze,{farn:i,onFarnChange:a}),f(P,{control:f(M,{checked:c,onChange:function(e,n){return u(n)}}),label:"".concat(e.isSelfTouch," ü§è")})]})]})},Ve=l.exports.createContext({players:[],selectedPlayers:[],selectedPlayerIds:[],setSelectedPlayerIds:function(e){},farn:3,setFarn:function(e){},winnerId:void 0,setWinnerId:function(e){},loserIds:[],setLoserIds:function(e){},isBao:!1,setIsBao:function(e){},isSelfTouch:!1,setIsSelfTouch:function(e){},setCanNext:function(e){}}),Je=function(n){var t,o,i=n.players,a=n.onAddRound,s=n.TriggerComponent,d=Oe(),h=l.exports.useMemo((function(){return new Map(i.map((function(e){return[e.id,e]})))}),[i]),p=u(l.exports.useState(!1),2),m=p[0],x=p[1],g=u(l.exports.useState(0),2),v=g[0],b=g[1],S=u(l.exports.useState(!1),2),w=S[0],C=S[1],I=u(l.exports.useState(i.slice(0,4).map((function(e){return e.id}))),2),k=I[0],P=I[1],M=u(l.exports.useState(3),2),T=M[0],O=M[1],W=u(l.exports.useState(),2),R=W[0],z=W[1],B=u(l.exports.useState([]),2),D=B[0],V=B[1],J=u(l.exports.useState(!1),2),H=J[0],_=J[1],Y=u(l.exports.useState(!1),2),q=Y[0],U=Y[1];l.exports.useEffect((function(){m&&(b(0),O(3),z(void 0),V([]),_(!1),U(!1),C(!1))}),[m]);var G,X=l.exports.useMemo((function(){return k.map((function(e){return h.get(e)}))}),[k,h]);return y(j,{children:[f(s,{onOpenModal:function(){return x(!0)}}),y(N,{open:m,onClose:function(){return x(!1)},fullWidth:!0,children:[f(A,{children:d.addRound}),f(F,{children:f(Ve.Provider,{value:{players:i,selectedPlayers:X,selectedPlayerIds:k,setSelectedPlayerIds:P,farn:T,setFarn:O,winnerId:R,setWinnerId:z,loserIds:D,setLoserIds:V,isBao:H,setIsBao:_,isSelfTouch:q,setIsSelfTouch:U,setCanNext:C},children:null===(t=(o=[function(){return f(Ee,{})},function(){return f(De,{})},function(){return f(Re,{})}])[v])||void 0===t?void 0:t.call(o)})}),y(E,{children:[f(L,{onClick:function(){return x(!1)},sx:{mr:"auto"},color:"secondary",children:d.cancel}),f(L,{disabled:v<=0,onClick:function(){return b(v-1)},children:d.back}),(G=v<2?{text:d.next,onClick:function(){return b(v+1)}}:{text:d.done,onClick:function(){if(x(!1),!R)throw new Error("no winnerId found");a(function(n){var t=n.playerIds,o=r(n,e);if(4!==t.length)throw new Error("playerIds.length is not 4");return Ae(c({isTied:!1,playerIds:t},o))}({playerIds:k,winnerId:R,loserIds:D,farn:T,isBao:H,isSelfTouch:q}))}},f(L,{onClick:G.onClick,disabled:!w,children:G.text}))]})]})]})},He=function(e){var n,t=e.onOpenModal,r=z(),o=Oe(),i=(n=R((function(e){return e.breakpoints.down("xl")})).valueOf(),{isMobile:n,isDesktop:!n}).isMobile;return f(B,c(c({color:"primary"},i?{variant:"circular",sx:{position:"fixed",bottom:r.spacing(10),right:r.spacing(3),zIndex:10}}:{variant:"extended",sx:{gap:1,"&::after":{content:'"'.concat(o.addRound,'"')}}}),{},{onClick:t,children:f(D,{icon:f(W,{children:"ramen_dining"})})}))},_e=l.exports.createContext({rounds:[],addRound:function(){},removeRound:function(){}}),Ye=function(e){var n=e.children,t=u(l.exports.useState([]),2),r=t[0],o=t[1];return f(_e.Provider,{value:{rounds:r,addRound:function(e){return o(V(r,(function(n){n.push(Ae(e))})))},removeRound:function(e){return o(r.filter((function(n){return n.id!==e})))}},children:n})},qe=function(e){var n=e.TriggerComponent,t=void 0===n?He:n,r=l.exports.useContext(je).players,o=l.exports.useContext(_e).addRound;return f(Je,{players:r,onAddRound:o,TriggerComponent:t},0)},Ue=function(e){var n=e.onOpenModal,t=z(),r=Oe(),o=R(t.breakpoints.down("md")).valueOf()?1.8:3;return f(B,{color:"primary",variant:"extended",sx:{gap:1,transform:"scale(".concat(o,")"),boxShadow:"0px 0px 50px 10px ".concat(t.palette.grey[600]),"&::after":{content:'"'.concat(r.addRound,'"')}},onClick:n,size:"large",children:f(D,{icon:f(W,{children:"ramen_dining"})})})},Ge=function(e){var n=e.onNext,t=e.onBack,r=Oe(),o=l.exports.useContext(_e).rounds;return l.exports.useEffect((function(){o.length>0&&n()}),[o]),y(I,{sx:{gap:3,alignItems:"center"},children:[f(J,{alignSelf:"flex-start",children:f(L,{onClick:t,children:r.back})}),y(H,{variant:"h3",component:"h1",sx:{display:"flex",gap:3,alignItems:"center",flexWrap:"wrap",justifyContent:"center"},children:[f(W,{fontSize:"inherit",children:"done"}),r.openTablePage.firstWuStep.heading]}),f(H,{variant:"h4",component:"h2",children:r.openTablePage.firstWuStep.subheading}),f(J,{sx:{display:"flex",height:"500px",maxHeight:"80vw",alignItems:"center",justifyContent:"center",width:"100%"},children:f(qe,{TriggerComponent:Ue})})]})},Xe=function(e){var n=e.players,t=e.onSetPlayers,r=e.sx,o=Oe();return y(_,{sx:c({flexGrow:1,display:"flex",gap:1,flexDirection:"column",padding:2},r),children:[f(J,{sx:{marginBottom:1},children:f(L,{variant:"outlined",startIcon:f(W,{children:"person_add"}),onClick:function(){return t(V(n,(function(e){e.push(We({name:"".concat(o.player," ").concat(n.length+1)}))})))},children:o.addPlayer})}),f(Y,{children:f(q,{sx:{minWidth:320},children:f(U,{children:n.map((function(e,r){return y(G,{children:[f(X,{padding:"checkbox",children:f(O,{onClick:function(){return t(n.filter((function(n){return n.id!==e.id})))},disabled:n.length<=4,children:f(W,{children:"delete"})})}),f(X,{children:f(T,{label:"".concat(o.player," ").concat(r+1),variant:"outlined",InputProps:{startAdornment:f($,{position:"start",children:f(W,{sx:{marginRight:1},children:"person"})})},value:e.name,onChange:function(r){return t(V(n,(function(n){var t=n.find((function(n){return n.id===e.id}));t&&(t.name=r.target.value)})))},fullWidth:!0})})]},e.id)}))})})})]})},$e=function(){var e=l.exports.useContext(je),n=e.players,t=e.setPlayers;return f(Xe,{players:n,onSetPlayers:function(e){return t(e)}})},Ke=function(e){var n=e.onBack,t=e.onNext,r=Oe();return y(I,{gap:3,children:[f(H,{variant:"h3",component:"h1",children:r.openTablePage.players.heading}),f($e,{}),y(I,{sx:{alignSelf:"flex-end",flexDirection:"row",gap:2},children:[f(L,{variant:"text",size:"large",onClick:n,children:r.back}),f(L,{variant:"contained",size:"large",onClick:t,children:r.next})]})]})},Qe=function(e){var n=e.settings,t=e.onSetSettings,r=e.sx,o=Oe();return y(_,{sx:c({flexGrow:1,display:"flex",gap:2,flexDirection:"column",padding:2},r),children:[y(b,{children:[f(S,{sx:{mb:1},children:o.chungJai}),y(w,{value:n.chungJai,exclusive:!0,onChange:function(e,r){return r&&t(c(c({},n),{},{chungJai:r}))},fullWidth:!0,children:[f(C,{value:"half",children:o.chungJais.half}),f(C,{value:"full",children:o.chungJais.full})]})]}),y(b,{children:[f(S,{sx:{mb:1},children:o.chipValue}),y(w,{value:n.chipValue,exclusive:!0,onChange:function(e,r){return r&&t(c(c({},n),{},{chipValue:r}))},fullWidth:!0,children:[f(C,{value:"25chicken",children:o.chipValues.c25chicken}),f(C,{value:"51",children:o.chipValues.c51}),f(C,{value:"12mosquitoes",children:o.chipValues.c12mosquitoes})]})]}),y(b,{children:[f(S,{sx:{mb:1},children:o.halfSpicyFrom}),y(w,{value:n.halfSpicyFrom,exclusive:!0,onChange:function(e,r){return r&&t(c(c({},n),{},{halfSpicyFrom:r}))},fullWidth:!0,sx:{mb:1},children:[f(C,{value:"never",children:o.halfSpicyFroms.never}),f(C,{value:4,children:"4"})]}),f(K,{inputProps:{inputMode:"numeric",pattern:"[0-9]{2}"},value:["never",4].includes(n.halfSpicyFrom)?"":n.halfSpicyFrom,onChange:function(e){return t(c(c({},n),{},{halfSpicyFrom:Number.parseInt(e.target.value)||4}))},placeholder:o.halfSpicyFroms.customPlaceholder,sx:{alignSelf:"flex-start",pt:1,pl:1,pr:1}})]})]})},Ze={chungJai:"full",chipValue:"25chicken",halfSpicyFrom:4},en=l.exports.createContext({settings:Ze,setSettings:function(){}}),nn=function(e){var n=e.children,t=u(l.exports.useState(Ze),2),r=t[0],o=t[1];return f(en.Provider,{value:{settings:r,setSettings:o},children:n})},tn=function(){var e=l.exports.useContext(en),n=e.settings,t=e.setSettings;return f(Qe,{settings:n,onSetSettings:t})},rn=function(e){var n=e.onNext,t=Oe();return y(I,{sx:{gap:3},children:[f(H,{variant:"h3",component:"h1",children:t.openTablePage.scoringSettings.heading}),f(tn,{}),f(I,{sx:{alignSelf:"flex-end",flexDirection:"row",gap:2},children:f(L,{variant:"contained",size:"large",onClick:n,children:t.next})})]})},on=function(){var e=Se(),n=e.navigate,t=e.navigateAbsolute;return f(Q,{maxWidth:"xl",sx:{pt:5},children:f(we,{views:[{path:"/scoring-settings",component:function(){return f(rn,{onNext:function(){return n({path:"/players"})}})}},{path:"/players",component:function(){return f(Ke,{onBack:function(){return n({path:"/scoring-settings"})},onNext:function(){return n({path:"/first-wu"})}})}},{path:"/first-wu",component:function(){return f(Ge,{onBack:function(){return n({path:"/players"})},onNext:function(){return t({path:"/game/chart"})}})}},{path:"*",redirect:"/scoring-settings"}]})})},an=function(e){var n=e.farn,t=e.halfSpicyFrom,r=e.baseScore,o=e.isSelfTouch;return function(e){var n=e.farn,t=e.halfSpicyFrom;return Number((Math.pow(2,Math.min(n,t))*Math.pow(1.5,Math.max(0,Math.ceil((n-t)/2)))*Math.pow(4/3,Math.max(0,Math.floor((n-t)/2)))).toFixed(2))}({farn:n,halfSpicyFrom:t})*r*(o?6:4)},cn=function(e,n){var t=n.players,r=n.scoringSettings;if(e.isTied)return t.map((function(){return 0}));var o=an({farn:e.farn,baseScore:{"25chicken":.25,51:.5,"12mosquitoes":1}[r.chipValue],halfSpicyFrom:"never"===r.halfSpicyFrom?Number.POSITIVE_INFINITY:r.halfSpicyFrom,isSelfTouch:e.isSelfTouch}),i=new Set(e.playerIds);return t.map((function(n){var t=n.id;return i.has(t)?e.winnerId===t?o:function(e){var n=e.score,t=e.chungJai,r=e.isLoser,o=e.loserCount;if(e.isSelfTouch)return r?-1*n/o:0;switch(t){case"full":return r?-1*n:0;case"half":return-1*n/(r?2:4)}}({score:o,chungJai:r.chungJai,isLoser:e.loserIds.includes(t),loserCount:e.loserIds.length,isSelfTouch:e.isSelfTouch}):null}))},ln=function(e){var t,r,o,i,a,c=e.data,u=z(),s=Oe();return f(Z,{data:l.exports.useMemo((function(){return c.map((function(e){return{id:e.playerName,data:e.scores.map((function(e,n){return{x:n,y:e}}))}})).reverse()}),[c]),pointLabelYOffset:-12,enableSlices:"x",theme:{background:u.palette.background.default,textColor:u.palette.text.secondary,fontSize:11,grid:{line:{stroke:u.palette.secondary.dark,strokeWidth:1}},tooltip:{container:{background:u.palette.secondary.light,color:u.palette.secondary.contrastText,fontSize:12}}},margin:{top:20,right:20,bottom:85,left:60},yScale:(a=l.exports.useMemo((function(){return Math.max.apply(Math,n(c.flatMap((function(e){return e.scores})).map((function(e){return Math.abs(null!=e?e:0)}))))}),[c]),{type:"linear",min:-a,max:a}),colors:{scheme:"set3"},gridXValues:null!==(t=null===(r=c[0])||void 0===r?void 0:r.scores.length)&&void 0!==t?t:0,axisBottom:{legend:s.round,legendOffset:36,legendPosition:"middle",tickValues:null!==(o=null===(i=c[0])||void 0===i?void 0:i.scores.length)&&void 0!==o?o:0},axisLeft:{legend:s.score,legendOffset:-40,legendPosition:"middle"},useMesh:!0,legends:[{anchor:"bottom-left",direction:"row",justify:!1,translateX:-20,translateY:70,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:80,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)"}]})},un=function(e){var n,t,r=e.data;return f(J,{sx:{width:"100%",overflowX:"auto",overflowY:"hidden"},children:f(J,{sx:{minWidth:"".concat(25*(null!==(n=null===(t=r[0])||void 0===t?void 0:t.scores.length)&&void 0!==n?n:1),"px"),minHeight:"600px",height:"calc(80vh - 200px)",display:"flex",alignItem:"center"},children:f(ln,{data:r})})})},sn=function(){var e=Oe(),n=l.exports.useContext(je).players,t=l.exports.useContext(en).settings,r=l.exports.useContext(_e).rounds,o=ee(r.map((function(e){return cn(e,{players:n,scoringSettings:t})})));return f(Q,{maxWidth:"xl",sx:{pt:5,pb:8},children:r.length<=0?f(J,{sx:{width:"100%",height:"70vh",backgroundColor:function(e){return e.palette.grey[900]},color:function(e){return e.palette.getContrastText(e.palette.grey[900])},display:"flex",justifyContent:"center",alignItems:"center"},children:e.chartPlaceholderText}):f(un,{data:o.map((function(e){return ne((function(e,n){return e+(null!=n?n:0)}),0,e)})).map((function(e,t){var r,o;return{playerName:null!==(r=null===(o=n[t])||void 0===o?void 0:o.name)&&void 0!==r?r:"## NO PLAYER FOUND ##",scores:e}}))})})},dn=function(){return y(Q,{maxWidth:"xl",sx:{display:"flex",flexDirection:"column",gap:3},children:[f($e,{}),f(tn,{})]})},hn=function(){var e=Oe(),n=l.exports.useContext(je).players,t=l.exports.useContext(_e).rounds,r=l.exports.useContext(en).settings,o=l.exports.useMemo((function(){return t.map((function(e){return cn(e,{players:n,scoringSettings:r})}))}),[t,n,r]);return f(Q,{maxWidth:"xl",sx:{pb:8},children:f(_,{sx:{width:"100%",overflow:"hidden"},children:f(Y,{sx:{maxHeight:"65vh"},children:y(q,{stickyHeader:!0,"aria-label":"sticky table",children:[f(te,{children:y(G,{sx:{whiteSpace:"nowrap"},children:[f(X,{children:"#"}),n.map((function(e){return f(X,{children:e.name},e.id)}))]})}),f(U,{children:t.length<=0?f(G,{children:f(X,{colSpan:1+n.length,align:"center",children:e.noData})}):y(j,{children:[o.map((function(e,n){return y(G,{children:[y(X,{children:["#",n+1]}),e.map((function(e,n){return f(X,{sx:e?{color:function(n){return n.palette[e>0?"success":"error"].main}}:{},children:null!=e?e:"-"},n)}))]},"round".concat(n))})),y(G,{sx:function(e){return{bgcolor:"#122b36",color:e.palette.info.contrastText}},ref:function(e){return null==e?void 0:e.scrollIntoView()},children:[f(X,{children:"Sum"}),ee(o).map((function(e){return re(e.map((function(e){return null!=e?e:0})))})).map((function(e,n){return f(X,{sx:e?{color:function(n){return n.palette[e>0?"success":"error"].main}}:{},children:e},n)}))]})]})})]})})})})},fn=function(e){var n=e.items,t=e.selectedItemId,r=e.onSelectedItemIdChange;return f(oe,{showLabels:!0,value:n.findIndex((function(e){return e.id===t})),onChange:function(e,t){var o=n[t];if(!o)throw new Error("cannot find item at index ".concat(t));r(o.id)},sx:{width:"100%"},children:n.map((function(e,n){var t=e.label,r=e.icon;return f(ie,{label:t,icon:r},n)}))})},pn=function(){var e=Oe(),n=l.exports.useContext(_e).rounds;!function(e){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).active,t=void 0===n||n;p("beforeunload",(function(n){if(t)return n.preventDefault(),n.returnValue=e,e}))}(e.beforeUnloadMessage,{active:l.exports.useMemo((function(){return n.length>0}),[n.length])});var t=Se().currentLocation,r=function(e){var n=Se(),t=n.currentLocation,r=n.navigate;return[l.exports.useCallback((function(){return f(we,{views:e})}),[e]),l.exports.useCallback((function(){return f(fn,{items:l.exports.useMemo((function(){return e.map((function(e){return{id:e.path,label:e.label,icon:e.icon}}))}),[e]),selectedItemId:t.path,onSelectedItemIdChange:function(e){return r({path:e})}})}),[e,t,r])]}(l.exports.useMemo((function(){return[{path:"/chart",label:e.bottomMenu.chart,icon:f(W,{children:"stacked_line_chart"}),component:sn},{path:"/table",label:e.bottomMenu.table,icon:f(W,{children:"list_alt"}),component:hn},{path:"/settings",label:e.bottomMenu.settings,icon:f(W,{children:"settings"}),component:dn}]}),[e])),o=u(r,2),i=o[0],a=o[1];return y(J,{sx:{pb:12},children:[f(Q,{maxWidth:"xl",sx:{mb:2,display:"/settings"===t.path?"none":void 0},children:f(qe,{})}),f(i,{}),f(Q,{maxWidth:"xl",sx:{position:"fixed",bottom:0,left:0,right:0,zIndex:1},children:f(a,{})})]})},mn=function(){return f(_,{elevation:1,sx:{padding:3,pb:7,mt:10,textAlign:"center"},children:"Made with ‚ô• by ycmjason"})},xn=function(e,n){return Math.floor(Math.random()*(n-e+1))+e},gn=function(e){return vn(e,1)[0]},vn=function(e,n){return yn(e).slice(0,n)},yn=function(e){for(var n,r=(d(n=e)||t(n)||h(n)||s()).slice(0),o=0;o<r.length;o++){var i=Math.floor(Math.random()*(o+1)),a=r[o];r[o]=r[i],r[i]=a}return r},bn=function(){return Se().navigate},Sn=function(){var e,n,t,r,o,c=(e=function(){return Ce((function(){return a.import("./names-legacy.7f69bb53.js")})).then((function(e){return e.default}))},n=[],t=u(l.exports.useState(n),2),r=t[0],o=t[1],g((function(){i(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=o,n.next=3,e();case 3:n.t1=n.sent,(0,n.t0)(n.t1);case 5:case"end":return n.stop()}}),n)})))()})),r),s=u(l.exports.useState([]),2),d=s[0],h=s[1];return l.exports.useEffect((function(){return function(e,n){var t=void 0===n?{wait:0}:"number"==typeof n?{wait:n}:n,r=t.wait,o=void 0===r?0:r,i=t.immediate;void 0!==i&&i&&e();var a=window.setInterval(e,o);return function(){return window.clearInterval(a)}}((function(){return h(function(e){var n=vn(e,xn(4,6)),t=Array.from({length:xn(40,120)},(function(){var e=vn(n,4),t=gn(e),r=gn(e.filter((function(e){return t!==e}))),o=gn([4,8,16,24,32,48,64]);return n.map((function(n){return t===n?o:r===n?-o/2:e.includes(n)?-o/4:0}))}));return m(n,ee(t)).map((function(e){var n=u(e,2),t=n[0],r=n[1];return{playerName:t,scores:ne(ae,0,r)}}))}(c))}),{wait:5e3,immediate:!0})}),[c]),d},wn=function(){var e=Oe(),n=bn();return y(j,{children:[f(Q,{maxWidth:"xl",sx:{pt:5},children:y(I,{alignItems:"center",children:[f(H,{variant:"h3",component:"h1",children:e.landingPage.heading}),f(H,{variant:"h5",component:"h2",textAlign:"center",sx:{mb:3},children:e.landingPage.subheading}),f(un,{data:Sn()}),y(L,{variant:"contained",size:"large",sx:{mt:5},onClick:function(){return n({path:"/open-table"})},children:[e.openTable,f(W,{sx:{ml:1},children:"table_bar"})]})]})}),f(mn,{})]})},Cn=function(){var e=Te(),n=e.t,t=e.setLocale;return{chinglish:function(){return f(L,{color:"inherit",onClick:function(){return t("zh-hk")},children:n.locales.zhHk})},"zh-hk":function(){return f(L,{color:"inherit",onClick:function(){return t("chinglish")},children:n.locales.chinglish})}}[e.locale]()},In=function(){var e=Oe(),n=bn();return f(J,{sx:{flexGrow:1,marginBottom:10,zIndex:999},children:f(ce,{position:"fixed",children:f(le,{children:y(Q,{maxWidth:"xl",sx:{display:"flex"},children:[f(H,{variant:"h6",component:"h1",sx:{cursor:"pointer",mr:"auto"},onClick:function(){return n({path:"/"})},children:e.appName}),f(Cn,{})]})})})})},kn=function(){return y(j,{children:[f(In,{}),f(we,{views:[{path:"/open-table",component:on},{path:"/game",component:pn},{path:"/",component:wn},{path:"/*",redirect:"/"}]})]})},Pn=function(e){var n=e.children;return e.components.reduceRight((function(e,n){return f(n,{children:e})}),f(j,{children:n}))},Mn=function(e){var n=e.children;return f(Me,{children:f(ye,{children:y(ue,{theme:se({palette:{mode:"dark",secondary:{main:"#b7b7b7",contrastText:"#000"}}}),children:[f(de,{}),f(Pn,{components:[Ne,Ye,nn],children:n})]})})})};he(),fe.render(f(pe.StrictMode,{children:f(Mn,{children:f(kn,{})})}),document.getElementById("root"))}}}))}();

!function(){var e=["playerIds"];function n(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,n,t,r,i,o,l){try{var c=e[o](l),a=c.value}catch(u){return void t(u)}c.done?n(a):Promise.resolve(a).then(r,i)}function r(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var r,i,o=[],l=!0,c=!1;try{for(t=t.call(e);!(l=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);l=!0);}catch(a){c=!0,i=a}finally{try{l||null==t.return||t.return()}finally{if(c)throw i}}return o}(e,n)||a(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){c(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function c(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){if(e){if("string"==typeof e)return u(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?u(e,n):void 0}}function u(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}System.register(["./vendor-legacy.998dec1a.js"],(function(o,c){"use strict";var a,u,s,d,f,h,p,x,m,v,g,y,b,S,w,I,C,P,k,O,M,T,W,j,F,E,V,L,R,B,N,A,z,D,J,_,H,G,Y,q,X,U,$,K,Q,Z,ee,ne,te,re,ie,oe,le,ce,ae,ue,se,de,fe,he;return{setters:[function(e){a=e.n,u=e.r,s=e.j,d=e.f,f=e.u,h=e.P,p=e.a,x=e.S,m=e.B,v=e.I,g=e.b,y=e.l,b=e.t,S=e.C,w=e.c,I=e.s,C=e.d,P=e.F,k=e.e,O=e.g,M=e.h,T=e.i,W=e.O,j=e.k,F=e.M,E=e.m,V=e.T,L=e.o,R=e.p,B=e.q,N=e.v,A=e.w,z=e.x,D=e.y,J=e.D,_=e.z,H=e.A,G=e.E,Y=e.G,q=e.H,X=e.J,U=e.K,$=e.L,K=e.N,Q=e.Q,Z=e.R,ee=e.U,ne=e.V,te=e.W,re=e.X,ie=e.Y,oe=e.Z,le=e._,ce=e.$,ae=e.a0,ue=e.a1,se=e.a2,de=e.a3,fe=e.a4,he=e.a5}],execute:function(){var pe=function(e){return l({id:a()},e)},xe=u.exports.createContext({rounds:[],addRound:function(){},removeRound:function(){}}),me=function(e){var n=e.children,t=r(u.exports.useState([]),2),i=t[0],o=t[1];return s(xe.Provider,{value:{rounds:i,addRound:function(e){return o(d(i,(function(n){n.push(pe(e))})))},removeRound:function(e){return o(i.filter((function(n){return n.id!==e})))}},children:n})},ve=function(e){var n=e.farn,t=e.halfSpicyFrom,r=e.baseScore,i=e.isSelfTouch;return function(e){var n=e.farn,t=e.halfSpicyFrom;return Number((Math.pow(2,Math.min(n,t))*Math.pow(1.5,Math.max(0,Math.ceil((n-t)/2)))*Math.pow(4/3,Math.max(0,Math.floor((n-t)/2)))).toFixed(2))}({farn:n,halfSpicyFrom:t})*r*(i?6:4)},ge=function(e,n){var t=n.players,r=n.scoringSettings;if(e.isTied)return t.map((function(){return 0}));var i=ve({farn:e.farn,baseScore:{"25chicken":.25,51:.5,"12mosquitoes":1}[r.chipValue],halfSpicyFrom:"never"===r.halfSpicyFrom?Number.POSITIVE_INFINITY:r.halfSpicyFrom,isSelfTouch:e.isSelfTouch}),o=new Set(e.playerIds);return t.map((function(n){var t=n.id;return o.has(t)?e.winnerId===t?i:function(e){var n=e.score,t=e.chungJai,r=e.isLoser,i=e.loserCount;if(e.isSelfTouch)return r?-1*n/i:0;switch(t){case"full":return r?-1*n:0;case"half":return-1*n/(r?2:4)}}({score:i,chungJai:r.chungJai,isLoser:e.loserIds.includes(t),loserCount:e.loserIds.length,isSelfTouch:e.isSelfTouch}):null}))},ye=o("c",(function(e){return e}))({appName:"麻雀計分器",locales:{chinglish:"Chinglish",zhHk:"廣東話"},bottomMenu:{chart:"圖",table:"表",settings:"設定"},round:"局",score:"分數",addRound:"食糊",next:"繼續",back:"返回",cancel:"取消",done:"搞掂",winner:"食者",losers:"出銃者",farn:"番",player:"玩家",players:"玩家們",selfTouch:"自摸",isSelfTouch:"自摸？",isBao:"包？",addPlayer:"新增玩家",chungJai:"銃制",chungJais:{half:"半銃",full:"全銃"},chipValue:"籌碼計法",chipValues:{c25chicken:"二五雞",c51:"五一",c12mosquitoes:"一二蚊"},halfSpicyFrom:"幾番開始半辣？",halfSpicyFroms:{never:"從不",customPlaceholder:"自訂"},noData:"未有數據...",chartPlaceholderText:"食下糊先有圖睇..."}),be={chinglish:function(){return function(){return c.import("./chinglish-legacy.6f865e0d.js")}()},"zh-hk":function(){return{default:ye}}},Se=u.exports.createContext({t:ye,setLocale:function(){},locale:"chinglish"}),we=function(e){var n=e.children,i=r(u.exports.useState("zh-hk"),2),o=i[0],l=i[1],c=r(u.exports.useState(ye),2),a=c[0],d=c[1];return u.exports.useEffect((function(){!function(e){return function(){var n=this,r=arguments;return new Promise((function(i,o){var l=e.apply(n,r);function c(e){t(l,i,o,c,a,"next",e)}function a(e){t(l,i,o,c,a,"throw",e)}c(void 0)}))}}(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=d,e.next=3,be[o]();case 3:e.t1=e.sent.default,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))()}),[o]),s(Se.Provider,{value:{t:a,locale:o,setLocale:l},children:n})},Ie=function(){return u.exports.useContext(Se)},Ce=function(e){return l({id:a()},e)},Pe=u.exports.createContext({players:[],setPlayers:function(){}}),ke=function(e){var n=e.children,t=Ie().t,i=r(u.exports.useState(Array.from({length:4},(function(e,n){return Ce({name:"".concat(t.player," ").concat(n+1)})}))),2),o=i[0],l=i[1];return s(Pe.Provider,{value:{players:o,setPlayers:l},children:n})},Oe={chungJai:"full",chipValue:"25chicken",halfSpicyFrom:4},Me=u.exports.createContext({settings:Oe,setSettings:function(){}}),Te=function(e){var n=e.children,t=r(u.exports.useState(Oe),2),i=t[0],o=t[1];return s(Me.Provider,{value:{settings:i,setSettings:o},children:n})},We=function(e){var t,r,i,o,l=e.data,c=f(),a=Ie().t;return s(h,{data:l.map((function(e){return{id:e.playerName,data:e.scores.map((function(e,n){return{x:n,y:e}}))}})),pointLabelYOffset:-12,enableSlices:"x",theme:{background:c.palette.background.default,textColor:c.palette.text.secondary,fontSize:11,grid:{line:{stroke:c.palette.secondary.dark,strokeWidth:1}},tooltip:{container:{background:c.palette.secondary.light,color:c.palette.secondary.contrastText,fontSize:12}}},margin:{top:50,right:20,bottom:85,left:60},yScale:{type:"linear",min:-Math.max.apply(Math,n(l.flatMap((function(e){return e.scores})).map((function(e){return Math.abs(null!=e?e:0)})))),max:Math.max.apply(Math,n(l.flatMap((function(e){return e.scores})).map((function(e){return Math.abs(null!=e?e:0)}))))},colors:{scheme:"set3"},gridXValues:null!==(t=null===(r=l[0])||void 0===r?void 0:r.scores.length)&&void 0!==t?t:0,axisBottom:{legend:a.round,legendOffset:36,legendPosition:"middle",tickValues:null!==(i=null===(o=l[0])||void 0===o?void 0:o.scores.length)&&void 0!==i?i:0},axisLeft:{legend:a.score,legendOffset:-40,legendPosition:"middle"},useMesh:!0,legends:[{anchor:"bottom-left",direction:"row",justify:!1,translateX:-20,translateY:70,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:80,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)"}]})},je=function(e){var n,t,i=e.data,o=u.exports.useRef(null),l=function(e){var n=r(u.exports.useState(null),2),t=n[0],i=n[1];return u.exports.useEffect((function(){if(e.current){var n=e.current;i({left:n.scrollLeft,top:n.scrollTop})}}),[]),u.exports.useEffect((function(){if(e.current){var n=e.current,t=y((function(){return i({left:n.scrollLeft,top:n.scrollTop})}),100);return n.addEventListener("scroll",t),function(){return n.removeEventListener("scroll",t)}}}),[e]),t}(o);return p(x,{children:[s(m,{sx:{overflowX:"auto",overflowY:"hidden"},ref:o,children:s(m,{sx:{minWidth:"".concat(25*(null!==(n=null===(t=i[0])||void 0===t?void 0:t.scores.length)&&void 0!==n?n:1),"px"),height:"700px",maxHeight:"calc(80vh - 200px)",display:"flex",alignItem:"center"},children:s(We,{data:i})})}),p(m,{sx:{display:"flex",justifyContent:"flex-end"},children:[s(v,{onClick:function(){var e;return null===(e=o.current)||void 0===e?void 0:e.scrollBy({left:-500,behavior:"smooth"})},disabled:!l||l.left<=0,children:s(g,{children:"chevron_left"})}),s(v,{onClick:function(){var e;return null===(e=o.current)||void 0===e?void 0:e.scrollBy({left:500,behavior:"smooth"})},disabled:!l||!o.current||l.left>=o.current.scrollWidth-o.current.clientWidth,children:s(g,{children:"chevron_right"})})]})]})},Fe=function(){var e=Ie().t,n=u.exports.useContext(Pe).players,t=u.exports.useContext(Me).settings,r=u.exports.useContext(xe).rounds,i=b(r.map((function(e){return ge(e,{players:n,scoringSettings:t})})));return s(S,{maxWidth:"xl",children:r.length<=0?s(w,{sx:{width:"100%",height:"70vh",backgroundColor:function(e){return e.palette.grey[900]},color:function(e){return e.palette.getContrastText(e.palette.grey[900])},display:"flex",justifyContent:"center",alignItems:"center"},children:e.chartPlaceholderText}):s(je,{data:i.map((function(e){return I((function(e,n){return e+(null!=n?n:0)}),0,e)})).map((function(e,t){var r,i;return{playerName:null!==(r=null===(i=n[t])||void 0===i?void 0:i.name)&&void 0!==r?r:"## NO PLAYER FOUND ##",scores:e}}))})})},Ee=function(e){var n=f(),t=Ie().t,r=C(n.breakpoints.down("xl")).valueOf();return s(P,l(l(l({color:"primary"},r?{variant:"circular",sx:{position:"fixed",bottom:n.spacing(10),right:n.spacing(3),zIndex:1}}:{variant:"extended",sx:{gap:1,"&::after":{content:'"'.concat(t.addRound,'"')}}}),e),{},{children:s(k,{icon:s(g,{children:"ramen_dining"})})}))},Ve=function(e){var n=e.allPlayers,t=e.selectedPlayerIds,r=e.onSelectedPlayerIdsChange,i=u.exports.useMemo((function(){return new Set(t)}),[t]),o=u.exports.useMemo((function(){return new Map(n.map((function(e){return[e.id,e]})))}),[n]),l=Ie().t;return p(O,{fullWidth:!0,sx:{mt:1},children:[s(M,{children:l.players}),s(T,{multiple:!0,value:t,onChange:function(e){var n="string"==typeof e.target.value?e.target.value.split(","):e.target.value;n.length>4||r(n)},input:s(W,{label:l.player}),renderValue:function(e){return s(w,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map((function(e){var n;return s(j,{label:(null===(n=o.get(e))||void 0===n?void 0:n.name)||"error: cannot find player"},e)}))})},children:n.map((function(e){var n=e.id,t=e.name;return s(F,{value:n,sx:function(e){var t=e.typography;return{fontWeight:i.has(n)?t.fontWeightMedium:t.fontWeightRegular}},children:t},n)}))})]})},Le=function(){var e=u.exports.useContext(De),n=e.players,t=e.selectedPlayerIds,r=e.setSelectedPlayerIds,i=e.setCanNext;return u.exports.useEffect((function(){return i(4===t.length)}),[t]),s(Ve,{allPlayers:n,selectedPlayerIds:t,onSelectedPlayerIdsChange:r})},Re=function(e){var n=e.players,t=e.loserIds,r=e.onLoserIdsChange,i=e.disabled,o=Ie().t;return p(x,{children:[s(E,{children:o.losers}),s(V,{color:"primary",value:t,onChange:function(e,n){return r([n])},exclusive:!0,fullWidth:!0,disabled:i,children:n.map((function(e){var n=e.id,t=e.name;return s(L,{value:n,children:t},n)}))})]})},Be=function(){var e=Ie().t,n=u.exports.useContext(De),t=n.selectedPlayers,r=n.winnerId,i=n.loserIds,o=n.setLoserIds,l=n.isSelfTouch,c=n.isBao,a=n.setIsBao,d=n.setCanNext,f=u.exports.useMemo((function(){return t.filter((function(e){return e.id!==r}))}),[t,r]);return u.exports.useEffect((function(){return a(l&&c)}),[l,c]),u.exports.useEffect((function(){return o(l&&!c?f.map((function(e){return e.id})):[])}),[l,c]),u.exports.useEffect((function(){return d(i.length>0)}),[i]),p(R,{children:[l&&s(B,{children:s(N,{control:s(A,{checked:c,onChange:function(e,n){return a(n)}}),label:"".concat(e.isBao," 🍞")})}),s(Re,{loserIds:i,disabled:l&&!c,onLoserIdsChange:o,players:f})]})},Ne=function(e){var n=e.farn,t=e.onFarnChange,r=Ie().t;return p(x,{direction:"row",spacing:2,alignItems:"center",flexWrap:"wrap",children:[s(z,{value:n,label:r.farn,inputProps:{readOnly:!0},size:"small",sx:function(e){return{width:(0,e.spacing)(8)}}}),s(w,{sx:{pr:1},flexGrow:1,children:s(D,{value:n,onChange:function(e,n){return t(n)},step:1,max:15,marks:[3,7,13].map((function(e){return{value:e,label:"".concat(e," ").concat(r.farn)}}))})})]})},Ae=function(e){var n=e.players,t=e.winnerId,r=e.onWinnerIdChange,i=Ie().t;return p(x,{children:[s(E,{children:i.winner}),s(V,{color:"primary",value:t,exclusive:!0,onChange:function(e,t){n.map((function(e){return e.id})).includes(t)&&r(t)},fullWidth:!0,children:n.map((function(e){var n=e.id,t=e.name;return s(L,{value:n,children:t},n)}))})]})},ze=function(){var e=Ie().t,n=u.exports.useContext(De),t=n.selectedPlayers,r=n.winnerId,i=n.setWinnerId,o=n.farn,l=n.setFarn,c=n.isSelfTouch,a=n.setIsSelfTouch,d=n.setCanNext;return u.exports.useEffect((function(){return d(!!r)}),[r]),p(R,{children:[s(Ae,{players:t,winnerId:r,onWinnerIdChange:i}),s(Ne,{farn:o,onFarnChange:l}),s(N,{control:s(A,{checked:c,onChange:function(e,n){return a(n)}}),label:"".concat(e.isSelfTouch," 🤏")})]})},De=u.exports.createContext({players:[],selectedPlayers:[],selectedPlayerIds:[],setSelectedPlayerIds:function(e){},farn:3,setFarn:function(e){},winnerId:void 0,setWinnerId:function(e){},loserIds:[],setLoserIds:function(e){},isBao:!1,setIsBao:function(e){},isSelfTouch:!1,setIsSelfTouch:function(e){},setCanNext:function(e){}}),Je=function(n){var t,o,c=n.players,a=n.onAddRound,d=Ie().t,f=u.exports.useMemo((function(){return new Map(c.map((function(e){return[e.id,e]})))}),[c]),h=r(u.exports.useState(!1),2),x=h[0],m=h[1],v=r(u.exports.useState(0),2),g=v[0],y=v[1],b=r(u.exports.useState(!1),2),S=b[0],w=b[1],I=r(u.exports.useState(c.slice(0,4).map((function(e){return e.id}))),2),C=I[0],P=I[1],k=r(u.exports.useState(3),2),O=k[0],M=k[1],T=r(u.exports.useState(),2),W=T[0],j=T[1],F=r(u.exports.useState([]),2),E=F[0],V=F[1],L=r(u.exports.useState(!1),2),B=L[0],N=L[1],A=r(u.exports.useState(!1),2),z=A[0],D=A[1];u.exports.useEffect((function(){x&&(y(0),M(3),j(void 0),V([]),N(!1),D(!1),w(!1))}),[x]);var q,X=u.exports.useMemo((function(){return C.map((function(e){return f.get(e)}))}),[C,f]);return p(R,{children:[s(Ee,{onClick:function(){return m(!0)}}),p(J,{open:x,onClose:function(){return m(!1)},fullWidth:!0,children:[s(_,{children:d.addRound}),s(H,{children:s(De.Provider,{value:{players:c,selectedPlayers:X,selectedPlayerIds:C,setSelectedPlayerIds:P,farn:O,setFarn:M,winnerId:W,setWinnerId:j,loserIds:E,setLoserIds:V,isBao:B,setIsBao:N,isSelfTouch:z,setIsSelfTouch:D,setCanNext:w},children:null===(t=(o=[function(){return s(Le,{})},function(){return s(ze,{})},function(){return s(Be,{})}])[g])||void 0===t?void 0:t.call(o)})}),p(G,{children:[s(Y,{onClick:function(){return m(!1)},sx:{mr:"auto"},color:"secondary",children:d.cancel}),s(Y,{disabled:g<=0,onClick:function(){return y(g-1)},children:d.back}),(q=g<2?{text:d.next,onClick:function(){return y(g+1)}}:{text:d.done,onClick:function(){if(m(!1),!W)throw new Error("no winnerId found");a(function(n){var t=n.playerIds,r=i(n,e);if(4!==t.length)throw new Error("playerIds.length is not 4");return pe(l({isTied:!1,playerIds:t},r))}({playerIds:C,winnerId:W,loserIds:E,farn:O,isBao:B,isSelfTouch:z}))}},s(Y,{onClick:q.onClick,disabled:!S,children:q.text}))]})]})]})},_e=function(){var e=u.exports.useContext(Pe).players,n=u.exports.useContext(xe).addRound;return s(Je,{players:e,onAddRound:n})},He=function(e){var n=e.players,t=e.onSetPlayers,r=e.sx,i=Ie().t;return p(q,{sx:l({flexGrow:1,display:"flex",gap:1,flexDirection:"column",padding:2},r),children:[s(w,{sx:{marginBottom:1},children:s(Y,{variant:"outlined",startIcon:s(g,{children:"person_add"}),onClick:function(){return t(d(n,(function(e){e.push(Ce({name:"".concat(i.player," ").concat(n.length+1)}))})))},children:i.addPlayer})}),s(X,{children:s(U,{sx:{minWidth:320},children:s($,{children:n.map((function(e,r){return p(K,{children:[s(Q,{padding:"checkbox",children:s(v,{onClick:function(){return t(n.filter((function(n){return n.id!==e.id})))},disabled:n.length<=4,children:s(g,{children:"delete"})})}),s(Q,{children:s(z,{label:"".concat(i.player," ").concat(r+1),variant:"outlined",InputProps:{startAdornment:s(Z,{position:"start",children:s(g,{sx:{marginRight:1},children:"person"})})},value:e.name,onChange:function(r){return t(d(n,(function(n){var t=n.find((function(n){return n.id===e.id}));t&&(t.name=r.target.value)})))},fullWidth:!0})})]},e.id)}))})})})]})},Ge=function(e){var n=e.settings,t=e.onSetSettings,r=e.sx,i=Ie().t;return p(q,{sx:l({flexGrow:1,display:"flex",gap:2,flexDirection:"column",padding:2},r),children:[p(O,{children:[s(E,{sx:{mb:1},children:i.chungJai}),p(V,{value:n.chungJai,exclusive:!0,onChange:function(e,r){return r&&t(l(l({},n),{},{chungJai:r}))},fullWidth:!0,children:[s(L,{value:"half",children:i.chungJais.half}),s(L,{value:"full",children:i.chungJais.full})]})]}),p(O,{children:[s(E,{sx:{mb:1},children:i.chipValue}),p(V,{value:n.chipValue,exclusive:!0,onChange:function(e,r){return r&&t(l(l({},n),{},{chipValue:r}))},fullWidth:!0,children:[s(L,{value:"25chicken",children:i.chipValues.c25chicken}),s(L,{value:"51",children:i.chipValues.c25chicken}),s(L,{value:"12mosquitoes",children:i.chipValues.c12mosquitoes})]})]}),p(O,{children:[s(E,{sx:{mb:1},children:i.halfSpicyFrom}),p(V,{value:n.halfSpicyFrom,exclusive:!0,onChange:function(e,r){return r&&t(l(l({},n),{},{halfSpicyFrom:r}))},fullWidth:!0,sx:{mb:1},children:[s(L,{value:"never",children:i.halfSpicyFroms.never}),s(L,{value:4,children:"4"})]}),s(ee,{inputProps:{inputMode:"numeric",pattern:"[0-9]{2}"},value:["never",4].includes(n.halfSpicyFrom)?"":n.halfSpicyFrom,onChange:function(e){return t(l(l({},n),{},{halfSpicyFrom:Number.parseInt(e.target.value)||4}))},placeholder:i.halfSpicyFroms.customPlaceholder,sx:{alignSelf:"flex-start",pt:1,pl:1,pr:1}})]})]})},Ye=function(){var e=u.exports.useContext(Pe),n=e.players,t=e.setPlayers,r=u.exports.useContext(Me),i=r.settings,o=r.setSettings;return p(S,{maxWidth:"xl",sx:{display:"flex",flexDirection:"column",gap:3},children:[s(He,{players:n,onSetPlayers:function(e){return t(e)}}),s(Ge,{settings:i,onSetSettings:o})]})},qe=function(){var e=Ie().t,n=u.exports.useContext(Pe).players,t=u.exports.useContext(xe).rounds,r=u.exports.useContext(Me).settings,i=u.exports.useMemo((function(){return t.map((function(e){return ge(e,{players:n,scoringSettings:r})}))}),[t,n,r]);return s(S,{maxWidth:"xl",children:s(q,{sx:{width:"100%",overflow:"hidden"},children:s(X,{sx:{maxHeight:"65vh"},children:p(U,{stickyHeader:!0,"aria-label":"sticky table",children:[s(ne,{children:p(K,{sx:{whiteSpace:"nowrap"},children:[s(Q,{children:"#"}),n.map((function(e){return s(Q,{children:e.name},e.id)}))]})}),s($,{children:t.length<=0?s(K,{children:s(Q,{colSpan:1+n.length,align:"center",children:e.noData})}):p(R,{children:[i.map((function(e,n){return p(K,{children:[p(Q,{children:["#",n+1]}),e.map((function(e,n){return s(Q,{sx:e?{color:function(n){return n.palette[e>0?"success":"error"].main}}:{},children:null!=e?e:"-"},n)}))]},"round".concat(n))})),p(K,{sx:function(e){return{bgcolor:"#122b36",color:e.palette.info.contrastText}},ref:function(e){return null==e?void 0:e.scrollIntoView()},children:[s(Q,{children:"Sum"}),b(i).map((function(e){return te(e.map((function(e){return null!=e?e:0})))})).map((function(e,n){return s(Q,{sx:e?{color:function(n){return n.palette[e>0?"success":"error"].main}}:{},children:e},n)}))]})]})})]})})})})},Xe=function(e){var n,t,i,o=e.PreView,l=e.views,c=r(u.exports.useState(0),2),a=c[0],d=c[1],f=null!==(n=null===(t=l[a])||void 0===t?void 0:t.View)&&void 0!==n?n:function(){return null};return p(w,{sx:{pb:12},children:[s(o,{viewId:null===(i=l[a])||void 0===i?void 0:i.id}),s(f,{}),s(S,{maxWidth:"xl",sx:{position:"fixed",bottom:0,left:0,right:0,zIndex:1},children:s(re,{showLabels:!0,value:a,onChange:function(e,n){return d(n)},sx:{width:"100%"},children:l.map((function(e,n){var t=e.label,r=e.icon;return s(ie,{label:t,icon:r},n)}))})})]})},Ue=function(){var e=Ie(),n=e.t,t=e.setLocale;return{chinglish:function(){return s(Y,{color:"inherit",onClick:function(){return t("zh-hk")},children:n.locales.zhHk})},"zh-hk":function(){return s(Y,{color:"inherit",onClick:function(){return t("chinglish")},children:n.locales.chinglish})}}[e.locale]()},$e=function(){var e=Ie().t;return s(w,{sx:{flexGrow:1,marginBottom:2},children:s(oe,{position:"static",children:s(le,{children:p(S,{maxWidth:"xl",sx:{display:"flex"},children:[s(ce,{variant:"h6",component:"h1",sx:{flexGrow:1},children:e.appName}),s(Ue,{})]})})})})},Ke=function(){var e=Ie().t;return p(R,{children:[s($e,{}),s(Xe,{PreView:function(e){var n=e.viewId;return s(S,{maxWidth:"xl",sx:{mb:2,display:"settings"===n?"none":void 0},children:s(_e,{})})},views:[{id:"chart",label:e.bottomMenu.chart,icon:s(g,{children:"stacked_line_chart"}),View:Fe},{id:"table",label:e.bottomMenu.table,icon:s(g,{children:"list_alt"}),View:qe},{id:"settings",label:e.bottomMenu.settings,icon:s(g,{children:"settings"}),View:Ye}]})]})},Qe=function(e){var n=e.children;return e.components.reduceRight((function(e,n){return s(n,{children:e})}),s(R,{children:n}))},Ze=function(e){var n=e.children;return p(ae,{theme:ue({palette:{mode:"dark",secondary:{main:"#b7b7b7",dark:"#5e5e5e",contrastText:"#000"}}}),children:[s(se,{}),s(Qe,{components:[we,ke,me,Te],children:n})]})};de(),fe.render(s(he.StrictMode,{children:s(Ze,{children:s(Ke,{})})}),document.getElementById("root"))}}}))}();
